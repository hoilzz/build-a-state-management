# redux

리덕스는 상태관리하기 좋은 도구다.

상태를 예측 가능하게 만들어준다.

만약 상태를 바꾸고 싶다면 액션을 생성해야한다. 

상태를 저장하고 있는 store는 접근자(getter)만 있고 설정자(setter)는 없다. 즉, 직접 상태를 변경할 수 없다.



## Redux는 언제 필요한가?

- 시간에 따라 바뀌는 충분한 양의 데이터가 있다.
- 상태를 위한 단 1개의 source가 필요하다.
- 모든 상태를 가지고 있기에 최상위 상태는 적당하지 않다.

## 요점

앱의 상태는 전부 1개의 스토어에 있는 객체 트리에 저장된다.

상태 트리를 변경하려면 

### action Creators

애플리케이션 상태를 바꾸고 싶다면 항상 액션을 보내야함.

### store

모든 상태 변화는 스토어에서 이루어진다.

스토어로 직접 요청하는 대신 액션 파이프라인을 따라가야 한다.

스토어는 

- 상태트리 전체를 유지하는 책임을 진다
- 액션이 들어왔을 때 어떤 상태변화가 필요한지에 대한 일은 (리듀서에게) 위임

### 리듀서

스토어는 액션이 어떤 상태변화를 만드는지 알 필요가 있을 때 리듀서에게 묻는다.

루트 리듀서는 app 상태 객체의 키를 기준으로 조각으로 나눈다.
이렇게 나누어진 상태 조각은 그 조각을 처리할 줄 아는 리듀서에게 넘긴다.

리듀서는
- 예전 상태를 변경하지 않는다.
- 대신 새로운 복사본을 만들어 변경사항을 적용
- 복사본에 대한 객체를 루트 리듀서에게 넘기고, 루트 리듀서는 이 객체를 스토어로 보낸다.
- 스토어는 이 객체를 새로운 app 상태로 만든다.

### 뷰

_container_

- 액션 처리 책임진다. 이 액션을 presentational에 보내주고, presentational은 콜백으로써 단순히 호출한다.
- CSS 가지지 않는다.
- DOM을 거의 가지지 않는다. DOM은 presentational이 관리한다.

_presentational_

- 액션에 직접 의존성을 가지지 않고 prop으로 전달 받는다.
  - 왜냐하면 재사용되어야 하기 때문이다

### 뷰레이어 바인딩

스토어를 뷰에 연결하기 위해 redux는 약간 도움이 필요.
`react-redux`가 그 역할을 한다.

뷰 레이어 바인딩은 View Tree를 위한 것이다. 
모든 컴포넌트를 스토어에 연결하며, 많은 기술적인 세부사항을 처리하여 트리구조가 세부사항에 신경쓰지 않도록 한다. 

1. provider component : 컴포넌트 트리를 감싸는 컴포넌트
  - `connect()`를 이용하여 루트 컴포넌트 밑의 컴포넌트들이 스토어에 연결되기 쉽게 해준다.

2. connect : react-redux가 제공하는 함수. 컴포넌트가 상태 업데이트를 받고 싶으면 connect로 연결.

## 리듀서

리듀서는 재사용 가능. 투두리스트할 때 createTodo, 페이지네이션 개발시 createPagination과 같이 팩토리 패턴 가능. 



---
# Redux

## Redux를 왜 써야할까요?

_배경 및 기존문제점_

SPA에서 많은 상태를 자바스크립트 코드로 관리해야한다. 

이러한 상황에서 기존 프레임웍인 MVC에서는 

- 모델이 모델을 업데이트하고, 
- 뷰가 모델을 다시 업데이트하고,  그 모델은 다른 모델을 업데이트 하고, 이에 따라 또 다른 뷰가 업데이트 되고..

개발자조차 예측할 수 없는 app을 개발하게된다. 

즉, __상태를 언제, 왜, 어떻게 업데이트할지 제어할 수 없다.__

이러한 복잡함의 이유는 __개발자가 추론하기 어려운 상태 및 뷰 변경과 비동기를 섞어서 사용하기 때문__

_해결책_

그래서 React는 뷰 레이어에서의 비동기와 DOM 조작을 제거.

Redux는 상태 변화가 일어나는 시점에 제약을 두어 상태 변화를 __예측 가능__ 하게 만듬

## 리덕스의 핵심만 설명해보세요.

app의 상태는 plain object로 관리한다. todo로 예를 들자.
- 이 객체는 모델과 같지만 setter 함수는 없다.
- 코드의 다른 부분이 상태를 임의로 변경할 수 없다.
  - 즉 버그 발생하기 어렵다.
- 그러면 상태를 어케 바꿀까?
  - action을 dispatch해야한다.

action은 plain JS다.
- action은 무슨 일이 일어나는지 설명한다.
- 이러한 점은 앱에서 무슨일이 일어나는지 명확하게 이해시켜준다.

state와 action을 같이 다루는 함수를 `reducer`라고 부른다.
- state와 action을 인자로 받아서 다음 state를 리턴하는 단순한 함수다.

요약하자면,

action object에 대한 응답으로 상태가 어떻게 업데이트되는지 설명하는 것이다.

## 리덕스의 흐름은?

## 리덕스의 3가지 핵심을 설명해보세요.

1. 모든 상태는 1개의 스토어에 1개의 객체 트리로 저장
- 이를 통해 범용적인 앱을 만들기 쉽다. (하나의 코드 베이스로 다양한 환경에서 실행 가능한 코드 만들기 쉬움)
- 1개의 상태트리만 있기 때문에 디버깅도 용이

2. 상태는 읽기 전용
- 상태를 변화시키는 유일한 방법은 액션 객체 전달하기
- 뷰나 네트워크 콜백에서 상태를 직접 변경하지 못한다.

3. 변화는 순수함수로 작성되야 한다.
- 액션에 의해 상태 트리가 어떻게 변화하는지를 지정하기 위해, `순수 리듀서`를 작성해야 한다.
- 리듀서는 그저 `이전 상태`와 `액션`을 받아 다음 상태를 반환하는 순수 함수다.
- 이전 상태를 변경하는 대신 새로운 상태 객체를 생성하여 반환해야 한다.

---

# React

## React를 왜 써야 할까요?
## React의 핵심만 설명해보세요.
## React의 Reconcilation에 대해 설명해보세요.

--- 